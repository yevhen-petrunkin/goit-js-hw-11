{"mappings":"AAAA,IAAMA,SAAW,0BACXC,aAAe,IAAIC,gBAAgB,CACvCC,IAAK,qCACLC,EAAG,GACHC,WAAY,QACZC,YAAa,aACbC,YAAY,EACZC,KAAM,EACNC,SAAU,KAGRC,YAAc,EAEZC,KAAO,CACXC,cAAeC,SAASC,cAAc,gBACtCC,WAAYF,SAASC,cAAc,YACnCE,eAAgBH,SAASC,cAAc,eAMzC,SAASG,mBAAmBC,GAC1BA,EAAIC,iBACJ,IAAMC,EAAQF,EAAIG,cAAcC,SAASC,YAAYC,MAAMC,OAC7C,KAAVL,IAGJM,oBAAoBN,GACpBO,mB,CAGF,SAASD,oBAAoBN,GAC3BnB,aAAa2B,IAAI,IAAKR,E,CAGxB,SAASO,mBACPE,MAAM,GAAgBC,OAAb9B,SAAS,MAAiB8B,OAAb7B,eACnB8B,MAAK,SAAAC,G,OAAKA,EAAEC,M,IACZF,KAAKG,iB,CAGV,SAASA,iBAAiBC,GACVA,EAAKC,KACbC,SAAQ,SAAAC,GACZ,IAAMC,EAAS,wEAA+HT,OAAvDQ,EAAIE,cAAc,uCAA+DV,OAA1BQ,EAAIG,aAAa,WAAoHX,OAA3GQ,EAAII,KAAK,oGAAoLZ,OAAlFQ,EAAIK,MAAM,0EAA6Jb,OAArFQ,EAAIM,MAAM,6EAAoKd,OAAzFQ,EAAIO,SAAS,8EAA0Ff,OAAdQ,EAAIQ,UAAU,+BACjiBnC,KAAKI,WAAWgC,mBAAmB,YAAaR,E,IAIpD,SAASS,aAEPC,aADAvC,aAAe,GAEfiB,kB,CAGF,SAASsB,aAAaC,GACpBjD,aAAa2B,IAAI,OAAQsB,E,CAtC3BvC,KAAKC,cAAcuC,iBAAiB,SAAUlC,oBAC9CN,KAAKK,eAAemC,iBAAiB,QAASH","sources":["src/js/gallery.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api';\nconst searchParams = new URLSearchParams({\n  key: '31610284-d2a9adb661769c66f83a1d1f1',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  page: 1,\n  per_page: 40,\n});\n\nlet pageCounter = 1;\n\nconst refs = {\n  searchFormRef: document.querySelector('#search-form'),\n  galleryRef: document.querySelector('.gallery'),\n  loadMoreBtnRef: document.querySelector('.load-more'),\n};\n\nrefs.searchFormRef.addEventListener('submit', onSearchFormSubmit);\nrefs.loadMoreBtnRef.addEventListener('click', onLoadMore);\n\nfunction onSearchFormSubmit(evt) {\n  evt.preventDefault();\n  const query = evt.currentTarget.elements.searchQuery.value.trim();\n  if (query === '') {\n    return;\n  }\n  setSearchQueryValue(query);\n  fetchSearchQuery();\n}\n\nfunction setSearchQueryValue(query) {\n  searchParams.set('q', query);\n}\n\nfunction fetchSearchQuery() {\n  fetch(`${BASE_URL}/?${searchParams}`)\n    .then(r => r.json())\n    .then(createCardMarkup);\n}\n\nfunction createCardMarkup(data) {\n  const array = data.hits;\n  array.forEach(obj => {\n    const markup = `<div class=\"gallery__item photo-card\"><a class=\"gallery__link\" href=\"${obj.largeImageURL}\"><img class=\"gallery__image\" src=\"${obj.webformatURL}\" alt=\"${obj.tags}\" loading=\"lazy\" /><div class=\"info\"><p class=\"info__item\"><b>Likes</b><span class=\"info__data\">${obj.likes}</span></p><p class=\"info__item\"><b>Views</b><span class=\"info__data\">${obj.views}</span></p><p class=\"info__item\"><b>Comments</b><span class=\"info__data\">${obj.comments}</span></p><p class=\"info__item\"><b>Downloads</b><span class=\"info__data\">${obj.downloads}</span></p></div></a></div>`;\n    refs.galleryRef.insertAdjacentHTML('beforeend', markup);\n  });\n}\n\nfunction onLoadMore() {\n  pageCounter += 1;\n  setPageValue(pageCounter);\n  fetchSearchQuery();\n}\n\nfunction setPageValue(number) {\n  searchParams.set('page', number);\n}\n\n/* <div class=\"gallery__item photo-card\">\n  <a class=\"gallery__link\" href=\"\">\n    <img class=\"gallery__image\" src=\"./cat.jpg\" alt=\"\" loading=\"lazy\" />\n    <div class=\"info\">\n      <p class=\"info__item\">\n        <b>Likes</b>\n        <span class=\"info__data\">234</span>\n      </p>\n      <p class=\"info__item\">\n        <b>Views</b>\n        <span class=\"info__data\">234</span>\n      </p>\n      <p class=\"info__item\">\n        <b>Comments</b>\n        <span class=\"info__data\">234</span>\n      </p>\n      <p class=\"info__item\">\n        <b>Downloads</b>\n        <span class=\"info__data\">234</span>\n      </p>\n    </div>\n  </a>\n</div> */\n"],"names":["BASE_URL","searchParams","URLSearchParams","key","q","image_type","orientation","safesearch","page","per_page","pageCounter","refs","searchFormRef","document","querySelector","galleryRef","loadMoreBtnRef","onSearchFormSubmit","evt","preventDefault","query","currentTarget","elements","searchQuery","value","trim","setSearchQueryValue","fetchSearchQuery","set","fetch","concat","then","r","json","createCardMarkup","data","hits","forEach","obj","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","insertAdjacentHTML","onLoadMore","setPageValue","number","addEventListener"],"version":3,"file":"index.de93e573.js.map"}